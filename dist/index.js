#!/usr/bin/env node
(()=>{"use strict";var e={147:e=>{e.exports=require("fs")},521:e=>{e.exports=require("readline")}};var r={};function __nccwpck_require__(t){var i=r[t];if(i!==undefined){return i.exports}var n=r[t]={exports:{}};var s=true;try{e[t](n,n.exports,__nccwpck_require__);s=false}finally{if(s)delete r[t]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var t={};(()=>{var e=t;Object.defineProperty(e,"__esModule",{value:true});const r=__nccwpck_require__(147);const i=__nccwpck_require__(521);const parseLine=e=>{const[r,...t]=e.replaceAll('"',"").split(":");return[r.trim(),t.join(":").trim()]};(async()=>{const e=r.createReadStream("./yarn.lock","utf-8");const t=i.createInterface({input:e});let n=null;let s=null;for await(const e of t){if(e.startsWith("    ")){if(s){const[r,t]=parseLine(e);s.value[r]=t}}else if(e.startsWith("  ")){if(n&&s){n.value[s.name]=s.value;s=null}const[r,t]=parseLine(e);if(r==="resolution"&&t.includes("@workspace:")){const[e,r]=t.split("@workspace:");if(r!=="."){n={dir:r,value:{name:e}}}}if(n&&(r==="dependencies"||r==="peerDependencies")){s={name:r,value:{}}}}else{if(n){if(!r.existsSync(n.dir)){r.mkdirSync(n.dir,{recursive:true})}const e=n.dir+"/package.json";if(!r.existsSync(e)){r.writeFileSync(e,JSON.stringify(n.value))}n=null;s=null}}}})()})();module.exports=t})();